/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-licenses",
factory: function (require) {
"use strict";var plugin=(()=>{var ee=Object.create;var tt=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var v=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,s)=>(typeof require<"u"?require:t)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),et=(e,t)=>{for(var s in t)tt(e,s,{get:t[s],enumerable:!0})},Et=(e,t,s,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ie(t))!ne.call(e,r)&&r!==s&&tt(e,r,{get:()=>t[r],enumerable:!(i=se(t,r))||i.enumerable});return e};var lt=(e,t,s)=>(s=e!=null?ee(re(e)):{},Et(t||!e||!e.__esModule?tt(s,"default",{value:e,enumerable:!0}):s,e)),oe=e=>Et(tt({},"__esModule",{value:!0}),e);var ht=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var A=(e,t,s)=>(ht(e,t,"read from private field"),s?s.call(e):t.get(e)),M=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},ft=(e,t,s,i)=>(ht(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var E=(e,t,s)=>(ht(e,t,"access private method"),s);var $t=j((exports,module)=>{"use strict";(function(root){var performance=(typeof window=="object"?window:v("perf_hooks")).performance,BREAK=`\r
`,SPACE=" ",OPTIONS={indent:2,isExpand:!0,isStrict:!1,isEscape:!1,isUnscape:!1,keyQtMark:'"',valQtMark:'"'},ESCAPES_MAP=[{ptn:/\r\n/gm,str:""},{ptn:/\n\r/gm,str:""},{ptn:/\n/gm,str:"\\n"},{ptn:/\r/gm,str:"\\r"},{ptn://gm,str:"\\b"},{ptn://gm,str:"\\v"},{ptn:/\f/gm,str:"\\f"},{ptn:/\t/gm,str:"\\t"}],MESSAGES_MAP={err:function(){return"Parse Error, an excessive abnormal Json!"},war:function(t){return"Formated ".concat(t," lines, abnormal JSON source!")},scc:function(t){return"Success formated ".concat(t," lines!")},val:function(t){return"Invalid value in line: ".concat(t)},ost:function(t){return"Expect a string in line: ".concat(t)},col:function(t){return"Expect a colon in line: ".concat(t)},end:function(t,s){return'Expect a comma or a "'.concat(s,'" in line: ').concat(t)}};function fmt2json(source,options){var startTime=performance.now(),fmtSource=source,curLevel=0,curIndex=1,exceptType="",exceptSign="",signsQueue="",baseIndent="",isSrcValid=!0,isFmtError=!1,withDetails=!1,fmtResult="",fmtType="info",fmtSign="",fmtLines=0,message="",errFormat=!1,errNear="",errIndex=NaN,errExpect="",fmtOptions=Object.assign({},OPTIONS);options&&(typeof options.withDetails=="boolean"&&(withDetails=options.withDetails),typeof options.expand=="boolean"&&(fmtOptions.isExpand=options.expand),typeof options.strict=="boolean"&&(fmtOptions.isStrict=options.strict),typeof options.escape=="boolean"&&(fmtOptions.isEscape=options.escape),typeof options.unscape=="boolean"&&(fmtOptions.isUnscape=options.unscape),typeof options.indent=="number"&&options.indent>0&&(fmtOptions.indent=options.indent),["'",'"',""].indexOf(options.keyQtMark)>-1&&(fmtOptions.keyQtMark=options.keyQtMark),["'",'"'].indexOf(options.valQtMark)>-1&&(fmtOptions.valQtMark=options.valQtMark)),baseIndent=getBaseIndent();try{try{fmtSource!==""&&eval("fmtSource = ".concat(fmtSource)),fmtSource===""||["object","boolean"].indexOf(typeof fmtSource)>-1?doNormalFormat(fmtSource):(fmtOptions.isUnscape&&(fmtSource=fmtSource.replace(/\\"/gm,'"').replace(/\\\\/gm,"\\")),doSpecialFormat())}catch(e){fmtOptions.isUnscape&&(fmtSource=fmtSource.replace(/\\"/gm,'"').replace(/\\\\/gm,"\\")),doSpecialFormat()}}catch(e){isFmtError=!0}finally{return setFmtStatus(),withDetails?{result:fmtResult,fmtType,fmtSign,fmtLines,fmtTime:performance.now()-startTime,message,errFormat,errIndex,errNear,errExpect}:fmtResult}function doNormalFormat(e){if([!0,!1,null,""].indexOf(e)>-1)return fmtResult+=String(e);fmtOptions.isStrict&&(e=JSON.parse(JSON.stringify(e))),e instanceof Array?arrayHandler(e):objectHandler(e)}function arrayHandler(e){var t;if(e.length>0){fmtResult+=brkLine4Normal("["),fmtOptions.isExpand&&curIndex++,curLevel++;for(var s=0;s<e.length;s++)t=fmtOptions.isExpand?getCurIndent():"",fmtResult+=t,valueHandler(e[s]),fmtResult+=brkLine4Normal(s<e.length-1?",":"");curLevel--,t=fmtOptions.isExpand?getCurIndent():"",fmtResult+=t+"]"}else fmtResult+="[]"}function objectHandler(e){var t=Object.keys(e);if(t.length>0){var s,i=0;fmtResult+=brkLine4Normal("{"),curLevel++;for(var r in e){i++;var n=quoteNormalStr(r,fmtOptions.keyQtMark);s=fmtOptions.isExpand?getCurIndent():"",fmtResult+=s,fmtResult+=n,fmtResult+=fmtOptions.isExpand?": ":":",valueHandler(e[r]),fmtResult+=brkLine4Normal(i<t.length?",":"")}curLevel--,s=fmtOptions.isExpand?getCurIndent():"",fmtResult+=s+"}"}else fmtResult+="{}"}function valueHandler(e){switch(typeof e){case"undefined":case"function":return fmtResult+=String(e);case"number":case"boolean":return fmtResult+=e;case"object":return doNormalFormat(e);case"string":return fmtResult+=quoteNormalStr(e,fmtOptions.valQtMark)}}function doSpecialFormat(){if(fmtSource=fmtSource.replace(/^\s*/,""),fmtSource.length!==0){var e=!1;switch(fmtSource[0]){case"'":case'"':e=!0,quotaHandler();break;case":":e=!0,colonHandler();break;case",":e=!0,commaHandler();break;case"{":e=!0,objPreHandler();break;case"}":e=!0,objEndHandler();break;case"[":e=!0,arrPreHandler();break;case"]":e=!0,arrEndHandler();break;case"(":e=!0,tupPreHandler();break;case")":e=!0,tupEndHandler();break}if(!e){var t=fmtSource.match(/^u(\s)?'|^u(\s)?"/);t&&(e=!0,unicHandler(t[0]))}if(!e){var s=fmtSource.match(/^(-?[0-9]+\.?[0-9]*|0[xX][0-9a-fA-F]+)/);s&&(e=!0,numbHandler(s[0]))}if(!e){var i=fmtSource.match(/^(true|false|True|False)/);i&&(e=!0,boolHandler(i[0]))}if(!e){var r=fmtSource.match(/^(null|undefined|None|NaN)/);r&&(e=!0,nullHandler(r[0]))}return e||otheHandler(),doSpecialFormat()}}function quotaHandler(){var e=getSrcRest(),t=getNextQuotaIndex(fmtSource[0],e);chkFmtExpect(fmtSource[0]);var s=fmtSource.substr(0,1),i=exceptType==="ost",r="";t>-1?(r=fmtSource.substr(1,t),fmtResult+=quoteSpecialStr(r,s,i),setFmtExpect(fmtSource[0]),fmtSource=getSrcRest(t+2)):(r=fmtSource.substr(1),fmtResult+=quoteSpecialStr(r,s,i),setFmtExpect("!"),fmtSource="")}function colonHandler(){fmtResult+=fmtOptions.isExpand?": ":":",chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource=getSrcRest()}function commaHandler(){var e=getCurIndent();fmtOptions.isExpand&&curIndex++,fmtResult+=fmtOptions.isExpand?",".concat(BREAK+e):",",chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource=getSrcRest(),fmtSource.replace(/(\r)?\n|\s/gm,"")===""&&setFmtError("val")}function objPreHandler(){chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource[1]&&fmtSource[1]==="}"?(fmtResult+="{}",setFmtExpect("}"),fmtSource=getSrcRest(2)):(curLevel++,fmtResult+="{",brkLine4Special(),fmtSource=getSrcRest())}function objEndHandler(){curLevel--,brkLine4Special("}"),chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource=getSrcRest()}function arrPreHandler(){chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource[1]&&fmtSource[1]==="]"?(fmtResult+="[]",setFmtExpect("]"),fmtSource=getSrcRest(2)):(curLevel++,fmtResult+="[",brkLine4Special(),fmtSource=getSrcRest())}function arrEndHandler(){curLevel--,brkLine4Special("]"),chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource=getSrcRest()}function tupPreHandler(){chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource[1]&&fmtSource[1]===")"?(fmtResult+=fmtOptions.isStrict?"[]":"()",setFmtExpect(")"),fmtSource=getSrcRest(2)):(curLevel++,fmtResult+=fmtOptions.isStrict?"[":"(",brkLine4Special(),fmtSource=getSrcRest())}function tupEndHandler(){curLevel--,brkLine4Special(fmtOptions.isStrict?"]":")"),chkFmtExpect(fmtSource[0]),setFmtExpect(fmtSource[0]),fmtSource=getSrcRest()}function unicHandler(e){var t=getSrcRest(e.length),s=e.indexOf("'")>-1?getNextQuotaIndex("'",t):getNextQuotaIndex('"',t);chkFmtExpect("u");var i=exceptType==="ost",r="";if(s>-1){var n=s+e.length+1;r=fmtSource.substr(e.length,n-e.length-1),fmtResult+=quoteSpecialStr(r,e,i),setFmtExpect("u"),fmtSource=getSrcRest(n)}else r=fmtSource.substr(e.length),fmtResult+=quoteSpecialStr(r,e,i),setFmtExpect("!"),fmtSource=""}function numbHandler(e){fmtResult+=e,chkFmtExpect("n"),setFmtExpect("n"),fmtSource=getSrcRest(e.length)}function boolHandler(e){fmtResult+=fmtOptions.isStrict?e.toLowerCase():e,chkFmtExpect("b"),setFmtExpect("b"),fmtSource=getSrcRest(e.length)}function nullHandler(e){fmtResult+=fmtOptions.isStrict?"null":e,chkFmtExpect("N"),setFmtExpect("N"),fmtSource=getSrcRest(e.length)}function otheHandler(){var e=fmtSource.match(/^[^\{\}\[\]\(\):,]*/),t=e&&e[0]||"";t&&(fmtResult+=t,chkFmtExpect("!"),fmtSource=getSrcRest(t.length))}function chkFmtExpect(e){if(isSrcValid)switch(exceptType){case"val":":,}])!".indexOf(e)>-1&&setFmtError("val");break;case"ost":`'"unbN`.indexOf(e)===-1&&setFmtError("ost");break;case"end":var t=getBracketPair(exceptSign);[",",t].indexOf(e)===-1&&setFmtError("end",t);break;case"col":e!==":"&&setFmtError("col");break}}function setFmtExpect(e){switch(e){case":":exceptType="val";break;case",":exceptSign==="{"?exceptType="ost":exceptType="val";break;case"{":exceptSign=e,signsQueue+=e,exceptType="ost";break;case"}":signsQueue=signsQueue.substr(0,signsQueue.length-1),exceptSign=signsQueue.substr(-1),exceptType="end";break;case"[":exceptSign=e,signsQueue+=e,exceptType="val";break;case"]":signsQueue=signsQueue.substr(0,signsQueue.length-1),exceptSign=signsQueue.substr(-1),exceptType="end";break;case"(":exceptSign=e,signsQueue+=e,exceptType="val";break;case")":signsQueue=signsQueue.substr(0,signsQueue.length-1),exceptSign=signsQueue.substr(-1),exceptType="end";break;case"u":case"n":case"b":case"N":case'"':case"'":exceptType==="ost"?exceptType="col":exceptType="end";break}}function setFmtError(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";switch(e){case"war":fmtType="warning";break;case"scc":fmtType="success";break;default:fmtType="danger";break}if(["ost","col","val","end"].indexOf(e)>-1){errFormat=!0,isSrcValid=!1,errExpect=t,errIndex=curIndex;var s=fmtResult.substr(-20).replace(/^(\s|\n|\r\n)*/,"").replace(/(\n|\r\n)/gm,"\\n"),i=fmtSource.substr(0,10).replace(/(\s|\n|\r\n)*$/,"").replace(/(\n|\r\n)/gm,"\\n");errNear="...".concat(s,">>>>>>").concat(i)}fmtSign=e,message=MESSAGES_MAP[e](curIndex,t)}function setFmtStatus(){if(isFmtError&&!errIndex)setFmtError("err"),errFormat=!0;else if(isSrcValid)if(signsQueue){var e=getBracketPair(signsQueue.substr(-1));setFmtError("end",e)}else setFmtError("scc");fmtLines=curIndex}function brkLine4Normal(e){return fmtOptions.isExpand?(curIndex++,e+BREAK):e}function brkLine4Special(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(!fmtOptions.isExpand)return fmtResult+=e;curIndex++,fmtResult+=BREAK+getCurIndent()+e}function quoteNormalStr(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=fmtOptions.isEscape&&fmtOptions.keyQtMark==='"'&&t==='"'&&(!s||fmtOptions.isStrict);e=s?e.replace(/(?!\\[b|f|n|\\|r|t|x|v|'|"|0])\\/gm,"\\\\"):e.replace(/\\/gm,"\\\\"),ESCAPES_MAP.forEach(function(n){return e=e.replace(n.ptn,n.str)});var r=i?"\\".concat(t):t;switch(i&&(e=e.replace(/\\/gm,"\\\\")),t){case'"':return e=i?e.replace(/"/gm,'\\\\\\"'):e.replace(/"/gm,'\\"'),r+e+r;case"'":return e=e.replace(/'/gm,"\\'"),r+e+r;default:return e}}function quoteSpecialStr(e,t,s){var i=s?fmtOptions.keyQtMark:fmtOptions.valQtMark;return e=e.replace(/(?!\\[b|f|n|\\|r|t|x|v|'|"|0])\\/gm,""),e=e.replace(/\\\"/gm,'"'),e=e.replace(/\\\'/gm,"'"),e=quoteNormalStr(e,i,!0),!fmtOptions.isStrict&&t.length>1&&(e=t.substr(0,t.length-1)+e),e}function getSrcRest(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return fmtSource.length>e?fmtSource.substr(e):""}function getNextQuotaIndex(e,t){for(var s=0;s<t.length;s++)if(t[s]===e&&(s===0||t[s-1]!=="\\"||t[s-1]==="\\"&&t[s-2]==="\\"&&t[s-3]!=="\\"))return s;return-1}function getBaseIndent(){for(var e="",t=0;t<fmtOptions.indent;t++)e+=SPACE;return e}function getCurIndent(){for(var e="",t=0;t<curLevel;t++)e+=baseIndent;return e}function getBracketPair(e){var t=["{","[","("],s=["}","]",")"],i=t.indexOf(e),r=s.indexOf(e);return i>-1?s[i]:t[r]}}typeof define=="function"&&define.amd?define(function(){return fmt2json}):typeof exports=="object"?module.exports=fmt2json:root.fmt2json=fmt2json})(exports)});var Pt=j((Ie,Ot)=>{Ot.exports=$t()});var Tt=j(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.LRUCache=void 0;var K=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Ft=new Set,ut=typeof process=="object"&&!!process?process:{},At=(e,t,s,i)=>{typeof ut.emitWarning=="function"?ut.emitWarning(e,t,s,i):console.error(`[${s}] ${t}: ${e}`)},it=globalThis.AbortController,kt=globalThis.AbortSignal;if(typeof it>"u"){kt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,r){this._onabort.push(r)}},it=class{constructor(){t()}signal=new kt;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let r of this.signal._onabort)r(i);this.signal.onabort?.(i)}}};let e=ut.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{!e||(e=!1,At("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var ae=e=>!Ft.has(e),Ce=Symbol("type"),L=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Rt=e=>L(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?G:null:null,G=class extends Array{constructor(t){super(t),this.fill(0)}},B,Q=class{heap;length;static create(t){let s=Rt(t);if(!s)return[];ft(Q,B,!0);let i=new Q(t,s);return ft(Q,B,!1),i}constructor(t,s){if(!A(Q,B))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new s(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},st=Q;B=new WeakMap,M(st,B,!1);var X=class{#p;#h;#d;#m;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#g;#r;#s;#t;#c;#f;#a;#n;#S;#o;#v;#E;#b;#y;#O;#l;static unsafeExposeInternals(t){return{starts:t.#E,ttls:t.#b,sizes:t.#v,keyMap:t.#r,keyList:t.#s,valList:t.#t,next:t.#c,prev:t.#f,get head(){return t.#a},get tail(){return t.#n},free:t.#S,isBackgroundFetch:s=>t.#e(s),backgroundFetch:(s,i,r,n)=>t.#_(s,i,r,n),moveToTail:s=>t.#F(s),indexes:s=>t.#w(s),rindexes:s=>t.#x(s),isStale:s=>t.#u(s)}}get max(){return this.#p}get maxSize(){return this.#h}get calculatedSize(){return this.#g}get size(){return this.#i}get fetchMethod(){return this.#A}get dispose(){return this.#d}get disposeAfter(){return this.#m}constructor(t){let{max:s=0,ttl:i,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:a,dispose:l,disposeAfter:S,noDisposeOnSet:u,noUpdateTTL:d,maxSize:m=0,maxEntrySize:P=0,sizeCalculation:h,fetchMethod:y,noDeleteOnFetchRejection:f,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:F,allowStaleOnFetchAbort:x,ignoreFetchAbort:k}=t;if(s!==0&&!L(s))throw new TypeError("max option must be a nonnegative integer");let D=s?Rt(s):Array;if(!D)throw new Error("invalid max value: "+s);if(this.#p=s,this.#h=m,this.maxEntrySize=P||this.#h,this.sizeCalculation=h,this.sizeCalculation){if(!this.#h&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#A=y,this.#O=!!y,this.#r=new Map,this.#s=new Array(s).fill(void 0),this.#t=new Array(s).fill(void 0),this.#c=new D(s),this.#f=new D(s),this.#a=0,this.#n=0,this.#S=st.create(s),this.#i=0,this.#g=0,typeof l=="function"&&(this.#d=l),typeof S=="function"?(this.#m=S,this.#o=[]):(this.#m=void 0,this.#o=void 0),this.#y=!!this.#d,this.#l=!!this.#m,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!f,this.allowStaleOnFetchRejection=!!F,this.allowStaleOnFetchAbort=!!x,this.ignoreFetchAbort=!!k,this.maxEntrySize!==0){if(this.#h!==0&&!L(this.#h))throw new TypeError("maxSize must be a positive integer if specified");if(!L(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=L(r)||r===0?r:1,this.ttlAutopurge=!!n,this.ttl=i||0,this.ttl){if(!L(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(this.#p===0&&this.ttl===0&&this.#h===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#p&&!this.#h){let _="LRU_CACHE_UNBOUNDED";ae(_)&&(Ft.add(_),At("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",_,X))}}getRemainingTTL(t){return this.#r.has(t)?1/0:0}#L(){let t=new G(this.#p),s=new G(this.#p);this.#b=t,this.#E=s,this.#I=(n,o,c=K.now())=>{if(s[n]=o!==0?c:0,t[n]=o,o!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.#u(n)&&this.delete(this.#s[n])},o+1);a.unref&&a.unref()}},this.#P=n=>{s[n]=t[n]!==0?K.now():0},this.#$=(n,o)=>{if(t[o]){let c=t[o],a=s[o];n.ttl=c,n.start=a,n.now=i||r();let l=n.now-a;n.remainingTTL=c-l}};let i=0,r=()=>{let n=K.now();if(this.ttlResolution>0){i=n;let o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{let o=this.#r.get(n);if(o===void 0)return 0;let c=t[o],a=s[o];if(c===0||a===0)return 1/0;let l=(i||r())-a;return c-l},this.#u=n=>t[n]!==0&&s[n]!==0&&(i||r())-s[n]>t[n]}#P=()=>{};#$=()=>{};#I=()=>{};#u=()=>!1;#D(){let t=new G(this.#p);this.#g=0,this.#v=t,this.#k=s=>{this.#g-=t[s],t[s]=0},this.#N=(s,i,r,n)=>{if(this.#e(i))return 0;if(!L(r))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(r=n(i,s),!L(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#R=(s,i,r)=>{if(t[s]=i,this.#h){let n=this.#h-t[s];for(;this.#g>n;)this.#T(!0)}this.#g+=t[s],r&&(r.entrySize=i,r.totalCalculatedSize=this.#g)}}#k=t=>{};#R=(t,s,i)=>{};#N=(t,s,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#i)for(let s=this.#n;!(!this.#H(s)||((t||!this.#u(s))&&(yield s),s===this.#a));)s=this.#f[s]}*#x({allowStale:t=this.allowStale}={}){if(this.#i)for(let s=this.#a;!(!this.#H(s)||((t||!this.#u(s))&&(yield s),s===this.#n));)s=this.#c[s]}#H(t){return t!==void 0&&this.#r.get(this.#s[t])===t}*entries(){for(let t of this.#w())this.#t[t]!==void 0&&this.#s[t]!==void 0&&!this.#e(this.#t[t])&&(yield[this.#s[t],this.#t[t]])}*rentries(){for(let t of this.#x())this.#t[t]!==void 0&&this.#s[t]!==void 0&&!this.#e(this.#t[t])&&(yield[this.#s[t],this.#t[t]])}*keys(){for(let t of this.#w()){let s=this.#s[t];s!==void 0&&!this.#e(this.#t[t])&&(yield s)}}*rkeys(){for(let t of this.#x()){let s=this.#s[t];s!==void 0&&!this.#e(this.#t[t])&&(yield s)}}*values(){for(let t of this.#w())this.#t[t]!==void 0&&!this.#e(this.#t[t])&&(yield this.#t[t])}*rvalues(){for(let t of this.#x())this.#t[t]!==void 0&&!this.#e(this.#t[t])&&(yield this.#t[t])}[Symbol.iterator](){return this.entries()}find(t,s={}){for(let i of this.#w()){let r=this.#t[i],n=this.#e(r)?r.__staleWhileFetching:r;if(n!==void 0&&t(n,this.#s[i],this))return this.get(this.#s[i],s)}}forEach(t,s=this){for(let i of this.#w()){let r=this.#t[i],n=this.#e(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(s,n,this.#s[i],this)}}rforEach(t,s=this){for(let i of this.#x()){let r=this.#t[i],n=this.#e(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(s,n,this.#s[i],this)}}purgeStale(){let t=!1;for(let s of this.#x({allowStale:!0}))this.#u(s)&&(this.delete(this.#s[s]),t=!0);return t}dump(){let t=[];for(let s of this.#w({allowStale:!0})){let i=this.#s[s],r=this.#t[s],n=this.#e(r)?r.__staleWhileFetching:r;if(n===void 0||i===void 0)continue;let o={value:n};if(this.#b&&this.#E){o.ttl=this.#b[s];let c=K.now()-this.#E[s];o.start=Math.floor(Date.now()-c)}this.#v&&(o.size=this.#v[s]),t.unshift([i,o])}return t}load(t){this.clear();for(let[s,i]of t){if(i.start){let r=Date.now()-i.start;i.start=K.now()-r}this.set(s,i.value,i)}}set(t,s,i={}){if(s===void 0)return this.delete(t),this;let{ttl:r=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:a}=i,{noUpdateTTL:l=this.noUpdateTTL}=i,S=this.#N(t,s,i.size||0,c);if(this.maxEntrySize&&S>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let u=this.#i===0?void 0:this.#r.get(t);if(u===void 0)u=this.#i===0?this.#n:this.#S.length!==0?this.#S.pop():this.#i===this.#p?this.#T(!1):this.#i,this.#s[u]=t,this.#t[u]=s,this.#r.set(t,u),this.#c[this.#n]=u,this.#f[u]=this.#n,this.#n=u,this.#i++,this.#R(u,S,a),a&&(a.set="add"),l=!1;else{this.#F(u);let d=this.#t[u];if(s!==d){if(this.#O&&this.#e(d)){d.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:m}=d;m!==void 0&&!o&&(this.#y&&this.#d?.(m,t,"set"),this.#l&&this.#o?.push([m,t,"set"]))}else o||(this.#y&&this.#d?.(d,t,"set"),this.#l&&this.#o?.push([d,t,"set"]));if(this.#k(u),this.#R(u,S,a),this.#t[u]=s,a){a.set="replace";let m=d&&this.#e(d)?d.__staleWhileFetching:d;m!==void 0&&(a.oldValue=m)}}else a&&(a.set="update")}if(r!==0&&!this.#b&&this.#L(),this.#b&&(l||this.#I(u,r,n),a&&this.#$(a,u)),!o&&this.#l&&this.#o){let d=this.#o,m;for(;m=d?.shift();)this.#m?.(...m)}return this}pop(){try{for(;this.#i;){let t=this.#t[this.#a];if(this.#T(!0),this.#e(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#l&&this.#o){let t=this.#o,s;for(;s=t?.shift();)this.#m?.(...s)}}}#T(t){let s=this.#a,i=this.#s[s],r=this.#t[s];return this.#O&&this.#e(r)?r.__abortController.abort(new Error("evicted")):(this.#y||this.#l)&&(this.#y&&this.#d?.(r,i,"evict"),this.#l&&this.#o?.push([r,i,"evict"])),this.#k(s),t&&(this.#s[s]=void 0,this.#t[s]=void 0,this.#S.push(s)),this.#i===1?(this.#a=this.#n=0,this.#S.length=0):this.#a=this.#c[s],this.#r.delete(i),this.#i--,s}has(t,s={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=s,n=this.#r.get(t);if(n!==void 0){let o=this.#t[n];if(this.#e(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#u(n))r&&(r.has="stale",this.#$(r,n));else return i&&this.#P(n),r&&(r.has="hit",this.#$(r,n)),!0}else r&&(r.has="miss");return!1}peek(t,s={}){let{allowStale:i=this.allowStale}=s,r=this.#r.get(t);if(r!==void 0&&(i||!this.#u(r))){let n=this.#t[r];return this.#e(n)?n.__staleWhileFetching:n}}#_(t,s,i,r){let n=s===void 0?void 0:this.#t[s];if(this.#e(n))return n;let o=new it,{signal:c}=i;c?.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});let a={signal:o.signal,options:i,context:r},l=(h,y=!1)=>{let{aborted:f}=o.signal,O=i.ignoreFetchAbort&&h!==void 0;if(i.status&&(f&&!y?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,O&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),f&&!O&&!y)return u(o.signal.reason);let F=m;return this.#t[s]===m&&(h===void 0?F.__staleWhileFetching?this.#t[s]=F.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,h,a.options))),h},S=h=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=h),u(h)),u=h=>{let{aborted:y}=o.signal,f=y&&i.allowStaleOnFetchAbort,O=f||i.allowStaleOnFetchRejection,F=O||i.noDeleteOnFetchRejection,x=m;if(this.#t[s]===m&&(!F||x.__staleWhileFetching===void 0?this.delete(t):f||(this.#t[s]=x.__staleWhileFetching)),O)return i.status&&x.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),x.__staleWhileFetching;if(x.__returned===x)throw h},d=(h,y)=>{let f=this.#A?.(t,n,a);f&&f instanceof Promise&&f.then(O=>h(O===void 0?void 0:O),y),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(h(void 0),i.allowStaleOnFetchAbort&&(h=O=>l(O,!0)))})};i.status&&(i.status.fetchDispatched=!0);let m=new Promise(d).then(l,S),P=Object.assign(m,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return s===void 0?(this.set(t,P,{...a.options,status:void 0}),s=this.#r.get(t)):this.#t[s]=P,P}#e(t){if(!this.#O)return!1;let s=t;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof it}async fetch(t,s={}){let{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:S=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:P=this.allowStaleOnFetchAbort,context:h,forceRefresh:y=!1,status:f,signal:O}=s;if(!this.#O)return f&&(f.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,status:f});let F={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:c,size:a,sizeCalculation:l,noUpdateTTL:S,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:P,ignoreFetchAbort:m,status:f,signal:O},x=this.#r.get(t);if(x===void 0){f&&(f.fetch="miss");let k=this.#_(t,x,F,h);return k.__returned=k}else{let k=this.#t[x];if(this.#e(k)){let vt=i&&k.__staleWhileFetching!==void 0;return f&&(f.fetch="inflight",vt&&(f.returnedStale=!0)),vt?k.__staleWhileFetching:k.__returned=k}let D=this.#u(x);if(!y&&!D)return f&&(f.fetch="hit"),this.#F(x),r&&this.#P(x),f&&this.#$(f,x),k;let _=this.#_(t,x,F,h),xt=_.__staleWhileFetching!==void 0&&i;return f&&(f.fetch=D?"stale":"refresh",xt&&D&&(f.returnedStale=!0)),xt?_.__staleWhileFetching:_.__returned=_}}get(t,s={}){let{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=s,c=this.#r.get(t);if(c!==void 0){let a=this.#t[c],l=this.#e(a);return o&&this.#$(o,c),this.#u(c)?(o&&(o.get="stale"),l?(o&&i&&a.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?a.__staleWhileFetching:void 0):(n||this.delete(t),o&&i&&(o.returnedStale=!0),i?a:void 0)):(o&&(o.get="hit"),l?a.__staleWhileFetching:(this.#F(c),r&&this.#P(c),a))}else o&&(o.get="miss")}#C(t,s){this.#f[s]=t,this.#c[t]=s}#F(t){t!==this.#n&&(t===this.#a?this.#a=this.#c[t]:this.#C(this.#f[t],this.#c[t]),this.#C(this.#n,t),this.#n=t)}delete(t){let s=!1;if(this.#i!==0){let i=this.#r.get(t);if(i!==void 0)if(s=!0,this.#i===1)this.clear();else{this.#k(i);let r=this.#t[i];this.#e(r)?r.__abortController.abort(new Error("deleted")):(this.#y||this.#l)&&(this.#y&&this.#d?.(r,t,"delete"),this.#l&&this.#o?.push([r,t,"delete"])),this.#r.delete(t),this.#s[i]=void 0,this.#t[i]=void 0,i===this.#n?this.#n=this.#f[i]:i===this.#a?this.#a=this.#c[i]:(this.#c[this.#f[i]]=this.#c[i],this.#f[this.#c[i]]=this.#f[i]),this.#i--,this.#S.push(i)}}if(this.#l&&this.#o?.length){let i=this.#o,r;for(;r=i?.shift();)this.#m?.(...r)}return s}clear(){for(let t of this.#x({allowStale:!0})){let s=this.#t[t];if(this.#e(s))s.__abortController.abort(new Error("deleted"));else{let i=this.#s[t];this.#y&&this.#d?.(s,i,"delete"),this.#l&&this.#o?.push([s,i,"delete"])}}if(this.#r.clear(),this.#t.fill(void 0),this.#s.fill(void 0),this.#b&&this.#E&&(this.#b.fill(0),this.#E.fill(0)),this.#v&&this.#v.fill(0),this.#a=0,this.#n=0,this.#S.length=0,this.#g=0,this.#i=0,this.#l&&this.#o){let t=this.#o,s;for(;s=t?.shift();)this.#m?.(...s)}}};rt.LRUCache=X});var It=j((Ue,Lt)=>{"use strict";var p=(...e)=>e.every(t=>t)?e.join(""):"",b=e=>e?encodeURIComponent(e):"",_t=e=>e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),ce={sshtemplate:({domain:e,user:t,project:s,committish:i})=>`git@${e}:${t}/${s}.git${p("#",i)}`,sshurltemplate:({domain:e,user:t,project:s,committish:i})=>`git+ssh://git@${e}/${t}/${s}.git${p("#",i)}`,edittemplate:({domain:e,user:t,project:s,committish:i,editpath:r,path:n})=>`https://${e}/${t}/${s}${p("/",r,"/",b(i||"HEAD"),"/",n)}`,browsetemplate:({domain:e,user:t,project:s,committish:i,treepath:r})=>`https://${e}/${t}/${s}${p("/",r,"/",b(i))}`,browsetreetemplate:({domain:e,user:t,project:s,committish:i,treepath:r,path:n,fragment:o,hashformat:c})=>`https://${e}/${t}/${s}/${r}/${b(i||"HEAD")}/${n}${p("#",c(o||""))}`,browseblobtemplate:({domain:e,user:t,project:s,committish:i,blobpath:r,path:n,fragment:o,hashformat:c})=>`https://${e}/${t}/${s}/${r}/${b(i||"HEAD")}/${n}${p("#",c(o||""))}`,docstemplate:({domain:e,user:t,project:s,treepath:i,committish:r})=>`https://${e}/${t}/${s}${p("/",i,"/",b(r))}#readme`,httpstemplate:({auth:e,domain:t,user:s,project:i,committish:r})=>`git+https://${p(e,"@")}${t}/${s}/${i}.git${p("#",r)}`,filetemplate:({domain:e,user:t,project:s,committish:i,path:r})=>`https://${e}/${t}/${s}/raw/${b(i||"HEAD")}/${r}`,shortcuttemplate:({type:e,user:t,project:s,committish:i})=>`${e}:${t}/${s}${p("#",i)}`,pathtemplate:({user:e,project:t,committish:s})=>`${e}/${t}${p("#",s)}`,bugstemplate:({domain:e,user:t,project:s})=>`https://${e}/${t}/${s}/issues`,hashformat:_t},I={};I.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:e,user:t,project:s,committish:i,path:r})=>`https://${p(e,"@")}raw.githubusercontent.com/${t}/${s}/${b(i||"HEAD")}/${r}`,gittemplate:({auth:e,domain:t,user:s,project:i,committish:r})=>`git://${p(e,"@")}${t}/${s}/${i}.git${p("#",r)}`,tarballtemplate:({domain:e,user:t,project:s,committish:i})=>`https://codeload.${e}/${t}/${s}/tar.gz/${b(i||"HEAD")}`,extract:e=>{let[,t,s,i,r]=e.pathname.split("/",5);if(!(i&&i!=="tree")&&(i||(r=e.hash.slice(1)),s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!t||!s)))return{user:t,project:s,committish:r}}};I.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:e,user:t,project:s,committish:i,treepath:r,path:n,editpath:o})=>`https://${e}/${t}/${s}${p("/",r,"/",b(i||"HEAD"),"/",n,o)}`,tarballtemplate:({domain:e,user:t,project:s,committish:i})=>`https://${e}/${t}/${s}/get/${b(i||"HEAD")}.tar.gz`,extract:e=>{let[,t,s,i]=e.pathname.split("/",4);if(!["get"].includes(i)&&(s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!t||!s)))return{user:t,project:s,committish:e.hash.slice(1)}}};I.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:e,domain:t,user:s,project:i,committish:r})=>`git+https://${p(e,"@")}${t}/${s}/${i}.git${p("#",r)}`,tarballtemplate:({domain:e,user:t,project:s,committish:i})=>`https://${e}/${t}/${s}/repository/archive.tar.gz?ref=${b(i||"HEAD")}`,extract:e=>{let t=e.pathname.slice(1);if(t.includes("/-/")||t.includes("/archive.tar.gz"))return;let s=t.split("/"),i=s.pop();i.endsWith(".git")&&(i=i.slice(0,-4));let r=s.join("/");if(!(!r||!i))return{user:r,project:i,committish:e.hash.slice(1)}}};I.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:e,project:t,committish:s})=>`git@${e}:${t}.git${p("#",s)}`,sshurltemplate:({domain:e,project:t,committish:s})=>`git+ssh://git@${e}/${t}.git${p("#",s)}`,edittemplate:({domain:e,user:t,project:s,committish:i,editpath:r})=>`https://${e}/${t}/${s}${p("/",b(i))}/${r}`,browsetemplate:({domain:e,project:t,committish:s})=>`https://${e}/${t}${p("/",b(s))}`,browsetreetemplate:({domain:e,project:t,committish:s,path:i,hashformat:r})=>`https://${e}/${t}${p("/",b(s))}${p("#",r(i))}`,browseblobtemplate:({domain:e,project:t,committish:s,path:i,hashformat:r})=>`https://${e}/${t}${p("/",b(s))}${p("#",r(i))}`,docstemplate:({domain:e,project:t,committish:s})=>`https://${e}/${t}${p("/",b(s))}`,httpstemplate:({domain:e,project:t,committish:s})=>`git+https://${e}/${t}.git${p("#",s)}`,filetemplate:({user:e,project:t,committish:s,path:i})=>`https://gist.githubusercontent.com/${e}/${t}/raw${p("/",b(s))}/${i}`,shortcuttemplate:({type:e,project:t,committish:s})=>`${e}:${t}${p("#",s)}`,pathtemplate:({project:e,committish:t})=>`${e}${p("#",t)}`,bugstemplate:({domain:e,project:t})=>`https://${e}/${t}`,gittemplate:({domain:e,project:t,committish:s})=>`git://${e}/${t}.git${p("#",s)}`,tarballtemplate:({project:e,committish:t})=>`https://codeload.github.com/gist/${e}/tar.gz/${b(t||"HEAD")}`,extract:e=>{let[,t,s,i]=e.pathname.split("/",4);if(i!=="raw"){if(!s){if(!t)return;s=t,t=null}return s.endsWith(".git")&&(s=s.slice(0,-4)),{user:t,project:s,committish:e.hash.slice(1)}}},hashformat:function(e){return e&&"file-"+_t(e)}};I.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:e,user:t,project:s,committish:i,path:r})=>`https://${e}/${t}/${s}/blob/${b(i)||"HEAD"}/${r}`,httpstemplate:({domain:e,user:t,project:s,committish:i})=>`https://${e}/${t}/${s}.git${p("#",i)}`,tarballtemplate:({domain:e,user:t,project:s,committish:i})=>`https://${e}/${t}/${s}/archive/${b(i)||"HEAD"}.tar.gz`,bugstemplate:({user:e,project:t})=>null,extract:e=>{let[,t,s,i]=e.pathname.split("/",4);if(!["archive"].includes(i)&&(s&&s.endsWith(".git")&&(s=s.slice(0,-4)),!(!t||!s)))return{user:t,project:s,committish:e.hash.slice(1)}}};for(let[e,t]of Object.entries(I))I[e]=Object.assign({},ce,t);Lt.exports=I});var dt=j((ze,Ht)=>{var le=v("url"),pt=(e,t,s)=>{let i=e.indexOf(s);return e.lastIndexOf(t,i>-1?i:1/0)},Nt=e=>{try{return new le.URL(e)}catch{}},he=(e,t)=>{let s=e.indexOf(":"),i=e.slice(0,s+1);if(Object.prototype.hasOwnProperty.call(t,i))return e;let r=e.indexOf("@");return r>-1?r>s?`git+ssh://${e}`:e:e.indexOf("//")===s+1?e:`${e.slice(0,s+1)}//${e.slice(s+1)}`},fe=e=>{let t=pt(e,"@","#"),s=pt(e,":","#");return s>t&&(e=e.slice(0,s)+"/"+e.slice(s+1)),pt(e,":","#")===-1&&e.indexOf("//")===-1&&(e=`git+ssh://${e}`),e};Ht.exports=(e,t)=>{let s=t?he(e,t):e;return Nt(s)||Nt(fe(s))}});var Dt=j((We,Ct)=>{"use strict";var ue=dt(),pe=e=>{let t=e.indexOf("#"),s=e.indexOf("/"),i=e.indexOf("/",s+1),r=e.indexOf(":"),n=/\s/.exec(e),o=e.indexOf("@"),c=!n||t>-1&&n.index>t,a=o===-1||t>-1&&o>t,l=r===-1||t>-1&&r>t,S=i===-1||t>-1&&i>t,u=s>0,d=t>-1?e[t-1]!=="/":!e.endsWith("/"),m=!e.startsWith(".");return c&&u&&d&&m&&a&&l&&S};Ct.exports=(e,t,{gitHosts:s,protocols:i})=>{if(!e)return;let r=pe(e)?`github:${e}`:e,n=ue(r,i);if(!n)return;let o=s.byShortcut[n.protocol],c=s.byDomain[n.hostname.startsWith("www.")?n.hostname.slice(4):n.hostname],a=o||c;if(!a)return;let l=s[o||c],S=null;i[n.protocol]?.auth&&(n.username||n.password)&&(S=`${n.username}${n.password?":"+n.password:""}`);let u=null,d=null,m=null,P=null;try{if(o){let h=n.pathname.startsWith("/")?n.pathname.slice(1):n.pathname,y=h.indexOf("@");y>-1&&(h=h.slice(y+1));let f=h.lastIndexOf("/");f>-1?(d=decodeURIComponent(h.slice(0,f)),d||(d=null),m=decodeURIComponent(h.slice(f+1))):m=decodeURIComponent(h),m.endsWith(".git")&&(m=m.slice(0,-4)),n.hash&&(u=decodeURIComponent(n.hash.slice(1))),P="shortcut"}else{if(!l.protocols.includes(n.protocol))return;let h=l.extract(n);if(!h)return;d=h.user&&decodeURIComponent(h.user),m=decodeURIComponent(h.project),u=decodeURIComponent(h.committish),P=i[n.protocol]?.name||n.protocol.slice(0,-1)}}catch(h){if(h instanceof URIError)return;throw h}return[a,d,S,m,u,P,t]}});var Ut=j((Me,jt)=>{"use strict";var{LRUCache:de}=Tt(),me=It(),ge=Dt(),Se=dt(),mt=new de({max:1e3}),N,Z,w,$,R=class{constructor(t,s,i,r,n,o,c={}){M(this,w);Object.assign(this,A(R,N)[t],{type:t,user:s,auth:i,project:r,committish:n,default:o,opts:c})}static addHost(t,s){A(R,N)[t]=s,A(R,N).byDomain[s.domain]=t,A(R,N).byShortcut[`${t}:`]=t,A(R,Z)[`${t}:`]={name:t}}static fromUrl(t,s){if(typeof t!="string")return;let i=t+JSON.stringify(s||{});if(!mt.has(i)){let r=ge(t,s,{gitHosts:A(R,N),protocols:A(R,Z)});mt.set(i,r?new R(...r):void 0)}return mt.get(i)}static parseUrl(t){return Se(t)}hash(){return this.committish?`#${this.committish}`:""}ssh(t){return E(this,w,$).call(this,this.sshtemplate,t)}sshurl(t){return E(this,w,$).call(this,this.sshurltemplate,t)}browse(t,...s){return typeof t!="string"?E(this,w,$).call(this,this.browsetemplate,t):typeof s[0]!="string"?E(this,w,$).call(this,this.browsetreetemplate,{...s[0],path:t}):E(this,w,$).call(this,this.browsetreetemplate,{...s[1],fragment:s[0],path:t})}browseFile(t,...s){return typeof s[0]!="string"?E(this,w,$).call(this,this.browseblobtemplate,{...s[0],path:t}):E(this,w,$).call(this,this.browseblobtemplate,{...s[1],fragment:s[0],path:t})}docs(t){return E(this,w,$).call(this,this.docstemplate,t)}bugs(t){return E(this,w,$).call(this,this.bugstemplate,t)}https(t){return E(this,w,$).call(this,this.httpstemplate,t)}git(t){return E(this,w,$).call(this,this.gittemplate,t)}shortcut(t){return E(this,w,$).call(this,this.shortcuttemplate,t)}path(t){return E(this,w,$).call(this,this.pathtemplate,t)}tarball(t){return E(this,w,$).call(this,this.tarballtemplate,{...t,noCommittish:!1})}file(t,s){return E(this,w,$).call(this,this.filetemplate,{...s,path:t})}edit(t,s){return E(this,w,$).call(this,this.edittemplate,{...s,path:t})}getDefaultRepresentation(){return this.default}toString(t){return this.default&&typeof this[this.default]=="function"?this[this.default](t):this.sshurl(t)}},V=R;N=new WeakMap,Z=new WeakMap,w=new WeakSet,$=function(t,s){if(typeof t!="function")return null;let i={...this,...this.opts,...s};i.path||(i.path=""),i.path.startsWith("/")&&(i.path=i.path.slice(1)),i.noCommittish&&(i.committish=null);let r=t(i);return i.noGitPlus&&r.startsWith("git+")?r.slice(4):r},M(V,N,{byShortcut:{},byDomain:{}}),M(V,Z,{"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}});for(let[e,t]of Object.entries(me))V.addHost(e,t);jt.exports=V});var _e={};et(_e,{default:()=>Te});var Xt=v("@yarnpkg/cli"),W=v("@yarnpkg/core"),C=v("clipanion"),Zt=lt(Pt());var g=v("@yarnpkg/core"),T=v("@yarnpkg/fslib"),Vt=lt(Ut());var St={};et(St,{fs:()=>we,getPackagePath:()=>be});var zt=v("@yarnpkg/plugin-pnp"),nt=v("@yarnpkg/core"),Wt=v("@yarnpkg/fslib"),ot=v("@yarnpkg/libzip");var Y=()=>({os:[process.platform],cpu:[process.arch],libc:[]});var be=async(e,t)=>{if(ye(e),!nt.structUtils.isPackageCompatible(t,Y()))return null;let s=nt.structUtils.convertPackageToLocator(t),i={name:nt.structUtils.stringifyIdent(s),reference:s.reference},r=gt.getPackageInformation(i);if(!r)return null;let{packageLocation:n}=r;return n},gt,ye=e=>{gt||(gt=module.require((0,zt.getPnpPath)(e).cjs))},we=new Wt.VirtualFS({baseFs:new ot.ZipOpenFS({libzip:(0,ot.getLibzipSync)(),readOnlyArchives:!0})});var bt={};et(bt,{_getYarnStateAliases:()=>Gt,fs:()=>Ee,getPackagePath:()=>xe});var U=v("@yarnpkg/core"),Mt=v("@yarnpkg/parsers"),H=v("@yarnpkg/fslib");var xe=async(e,t)=>{if(await ve(e),!U.structUtils.isPackageCompatible(t,Y()))return null;let s=U.structUtils.convertPackageToLocator(t),i=U.structUtils.stringifyLocator(s),r=at[i]||Qt[i];if(!r)return null;let n=r.locations[0];return n?H.ppath.join(e.cwd,n):e.cwd},at,Qt,ve=async e=>{if(!at){let t=H.ppath.join(e.configuration.projectCwd,H.Filename.nodeModules,".yarn-state.yml");at=(0,Mt.parseSyml)(await H.xfs.readFilePromise(t,"utf8")),Qt=Gt(at)}},Ee=H.xfs,Gt=e=>Object.entries(e).reduce((t,[s,i])=>{if(!i.aliases)return t;let r=U.structUtils.parseLocator(s);for(let n of i.aliases){let o=U.structUtils.makeLocator(r,n),c=U.structUtils.stringifyLocator(o);t[c]=i}return t},{});var yt={};et(yt,{fs:()=>Oe,getPackagePath:()=>$e});var q=v("@yarnpkg/core"),z=v("@yarnpkg/fslib");var $e=async(e,t)=>{if(!q.structUtils.isPackageCompatible(t,Y()))return null;let s=q.structUtils.convertPackageToLocator(t),i=q.structUtils.slugifyLocator(s),r=q.structUtils.stringifyIdent(s),n=e.tryWorkspaceByLocator(s);return n?n.cwd:z.ppath.join(e.configuration.projectCwd,z.Filename.nodeModules,".store",i,z.Filename.nodeModules,r)},Oe=z.xfs;var Bt=e=>{switch(e){case"pnp":return St;case"node-modules":return bt;case"pnpm":return yt;default:throw new Error("Unsupported linker")}};var ps=T.npath.basename(__dirname)==="@yarnpkg"?T.ppath.join(T.npath.toPortablePath(__dirname),"../.."):T.ppath.join(T.npath.toPortablePath(__dirname),".."),Yt=async(e,t,s,i,r)=>{let n={},o={children:n},c=await Pe(e,t,i,r),a=Bt(e.configuration.get("nodeLinker"));for(let[l,S]of c.entries()){let u=await a.getPackagePath(e,S);if(u===null)continue;let d=JSON.parse(await a.fs.readFilePromise(T.ppath.join(u,T.Filename.manifest),"utf8")),{license:m,url:P,vendorName:h,vendorUrl:y}=Fe(d),f=g.structUtils.convertPackageToLocator(S),O=g.structUtils.stringifyLocator(g.structUtils.isVirtualLocator(f)?g.structUtils.devirtualizeLocator(f):f),k={children:{package:{value:g.formatUtils.tuple(g.formatUtils.Type.DEPENDENT,{locator:f,descriptor:l})},...P?{url:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,wt("URL",P,s))}}:{},...h?{vendorName:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,wt("VendorName",h,s))}}:{},...y?{vendorUrl:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,wt("VendorUrl",y,s))}}:{},license:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,m)}}};n[O]=k}return o},Jt=(e,t,s,i,r,n)=>{let o=[];for(let[c,a]of s.entries())if(!(r&&t&&t.manifest.devDependencies.has(c))&&!i.includes(a)&&(o.push(a),n)){let l=e.storedResolutions.get(a.descriptorHash);if(!l)throw new Error("Assertion failed: The resolution should have been registered");let S=e.storedPackages.get(l);if(!S){console.log("Assertion failed: The package could not be found");continue}o.push(...Jt(e,null,S.dependencies,[...i,...o],r,n))}return o},Pe=async(e,t,s,i)=>{let r=new Map,n,o=t.getRecursiveWorkspaceDependencies({dependencies:i?["dependencies"]:g.Manifest.hardDependencies});if(o.add(t),n=new Set,s){let l=await g.Cache.find(e.configuration,{immutable:!0});await e.resolveEverything({report:new g.ThrowReport,cache:l})}for(let l of o)n=new Set([...Jt(e,l,l.anchoredPackage.dependencies,[...n],i,s),...n]);let c=g.miscUtils.sortMap(n,[l=>g.structUtils.stringifyIdent(l),l=>g.structUtils.isVirtualDescriptor(l)?"0":"1",l=>l.range]),a=new Set;for(let l of c.values()){let S=e.storedResolutions.get(l.descriptorHash);if(!S)continue;let u=e.storedPackages.get(S);if(!u)continue;let{descriptorHash:d}=g.structUtils.isVirtualDescriptor(l)?g.structUtils.devirtualizeDescriptor(l):l;a.has(d)||(a.add(d),r.set(l,u))}return r};function ke(e){let t={},s=e.match(/^([^(<]+)/);if(s){let n=s[0].trim();n&&(t.name=n)}let i=e.match(/<([^>]+)>/);i&&(t.email=i[1]);let r=e.match(/\(([^)]+)\)/);return r&&(t.url=r[1]),t}var Fe=e=>{let{license:t,licenses:s,repository:i,homepage:r,author:n}=e,o=typeof n=="string"?ke(n):n;return{license:(()=>{if(t)return ct(t);if(s){if(!Array.isArray(s))return ct(s);if(s.length===1)return ct(s[0]);if(s.length>1)return`(${s.map(ct).join(" OR ")})`}return Kt})(),url:Ae(i)||r,vendorName:o?.name,vendorUrl:r||o?.url}},Kt="UNKNOWN",ct=e=>(typeof e!="string"?e.type:e)||Kt,Ae=e=>{let t=typeof e=="string"?e:e?.url;if(!t)return t;let s=Vt.default.fromUrl(t);return s?s.https({noGitPlus:!0}):t},wt=(e,t,s)=>s?t:`${e}: ${t}`;var qt=lt(v("fs")),J=class extends C.Command{constructor(){super(...arguments);this.recursive=C.Option.Boolean("-R,--recursive",!1,{description:"Include transitive dependencies (dependencies of direct dependencies)"});this.production=C.Option.Boolean("--production",!1,{description:"Exclude development dependencies"});this.json=C.Option.Boolean("--json",!1,{description:"Format output as JSON"});this.file=C.Option.String("--out-file",{required:!1,description:"Write output to file (as json)"})}async execute(){let s=await W.Configuration.find(this.context.cwd,this.context.plugins),{project:i,workspace:r}=await W.Project.find(s,this.context.cwd);if(!r)throw new Xt.WorkspaceRequiredError(i.cwd,this.context.cwd);await i.restoreInstallState();let n=this.file?qt.default.createWriteStream(this.file):this.context.stdout,o=await Yt(i,r,this.json,this.recursive,this.production);if(this.json){let c=(0,Zt.default)(JSON.stringify(W.treeUtils.treeNodeToJson(o)));n.write(c);return}W.treeUtils.emitTree(o,{configuration:s,stdout:n,json:!1,separators:1})}};J.paths=[["licenses","list"]],J.usage=C.Command.Usage({description:"display the licenses for all packages in the project",details:`
      This command prints the license information for packages in the project. By default, only direct dependencies are listed.

      If \`-R,--recursive\` is set, the listing will include transitive dependencies (dependencies of direct dependencies).

      If \`--production\` is set, the listing will exclude development dependencies.
    `,examples:[["List all licenses of direct dependencies","$0 licenses list"],["List all licenses of direct and transitive dependencies","$0 licenses list --recursive"],["List all licenses of production dependencies only","$0 licenses list --production"]]});var Re={commands:[J]},Te=Re;return oe(_e);})();
/**
 * @license
 * format-to-json v3.0.3
 * GitHub Repository <https://github.com/CN-Tower/format-to-json>
 * Released under MIT license <https://github.com/CN-Tower/format-to-json/blob/master/LICENSE>
 */
return plugin;
}
};
